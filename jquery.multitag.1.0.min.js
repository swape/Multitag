/*
Script name: multitag
Version: 1.0
Author: Alireza Balouch http://swape.net
Description: jQuery plugins for making multitag
Works on: Webkit , mozilla, opera
Example:
 Script:
  $(".mytags").multitag();
*/
(function(a){a.fn.multitag=function(){var i=a.extend({},i);return this.each(function(){function h(b,f){var g="";for(x2=0;x2<f.length;x2++)if(f[x2]!=""&&f[x2]!=null)g=g+","+f[x2];g=g.substring(1,g.length);a(b).val(g)}var c=a(this),j=c.val(),e=c.attr("id"),d=[];d=j.split(",");c="";for(x=0;x<d.length;x++)if(d[x]!="")c=c+'<span rel="'+x+'">'+d[x]+' <a href="#" title="'+d[x]+'">x</a></span> ';c=c+'<input type="text" id="'+e+'-sftaginput" class="sftaginput" value="" />';a(this).after('<div class="sftag" id="'+ e+'-sftag">'+c+"</div>");a(this).hide();c=a(this).outerWidth();a("#"+e+"-sftag").width(c);a("#"+e+"-sftag").click(function(){a("#"+e+"-sftaginput").focus()});a("#"+e+"-sftaginput").live("keypress",function(b){var f="#"+a(this).parent().prev().attr("id");if(b.which==44){b=a(this).val();b=b.replace(",","");x++;d[x]=b;h(f,d);a(this).before('<span rel="'+x+'">'+b+' <a href="#" title="'+b+'">x</a></span> ');a(this).val("");return false}});a("#"+e+"-sftag a").live("click",function(){var b=a(this).parent().attr("rel"); d[b]=null;h("#"+e,d);a(this).parent().fadeOut(300,function(){a(this).remove()});return false})})}})(jQuery);