/*
Script name: multitag
Version: 1.1
Author: Alireza Balouch http://swape.net
Description: jQuery plugins for making multitag
Works on: Webkit , mozilla, opera
Example:
 Script:
  $(".mytags").multitag();
*/
(function(b){b.fn.multitag=function(){var e=b.extend({},e);return this.each(function(){function f(g,a){var c="";for(x2=0;x2<a.length;x2++)a[x2]!=""&&a[x2]!=null&&(c=c+","+a[x2]);c=c.substring(1,c.length);b(g).val(c)}var a=b(this),e=a.val(),d=a.attr("id"),c=[],c=e.split(","),a="";for(x=0;x<c.length;x++)c[x]!=""&&(a=a+'<span rel="'+x+'">'+c[x]+' <a href="#" title="'+c[x]+'">x</a></span> ');a=a+'<input type="text" id="'+d+'-sftaginput" class="sftaginput" value="" />';b(this).after('<div class="sftag" id="'+ d+'-sftag">'+a+"</div>");b(this).hide();a=b(this).outerWidth();b("#"+d+"-sftag").width(a);b("#"+d+"-sftag").click(function(){b("#"+d+"-sftaginput").focus()});b("#"+d+"-sftaginput").live("keypress",function(a){var d="#"+b(this).parent().prev().attr("id");if(a.which==44||a.which==0||a.which==13)return a=b(this).val(),a=a.replace(",",""),x++,c[x]=a,f(d,c),b(this).before('<span rel="'+x+'">'+a+' <a href="#" title="'+a+'">x</a></span> '),b(this).val(""),false});b("#"+d+"-sftag a").live("click",function(){var a= b(this).parent().attr("rel");c[a]=null;f("#"+d,c);b(this).parent().fadeOut(300,function(){b(this).remove()});return false})})}})(jQuery);