/*
Script name: multitag
Version: 1.3
Author: Alireza Balouch http://swape.net
Description: jQuery plugins for making multitag
Example:
 Script:
  $(".mytags").multitag();

*/
(function(e){function t(n){var r=e("#"+n).val();var i="#"+e("#"+n).data("tagbox");e(i).html("");var s=r.split(",");for(x=0;x<s.length;x++){if(s[x]!=""){e(i).append("<span><b>"+s[x]+'</b><a href="#" class="tagboxclosebtn" data-rtag="'+s[x]+'" data-for="'+n+'" >x</a></span>')}}e(i).append('<input type="text" id="'+n+'-input" data-for="'+n+'" />');e("#"+n+"-input").focus();e(i+" .tagboxclosebtn").on("click",function(){var n=e("#"+e(this).data("for")).val();var r=n.replace(e(this).data("rtag"),"");r=r.replace(/,,/gi,",");e("#"+e(this).data("for")).val(r);t(e(this).data("for"));return false});e(i+" input").on("keypress focusout",function(n){if(n.which==44||n.which==0||n.which==13||n.which==9){var r=e(this).val();if(r!=""){r=r.replace(",","");var i=e(this).data("for");e("#"+i).val(e("#"+i).val()+","+r);e(this).val("");t(i);return false}}})}e.fn.multitag=function(){var n={fademsec:300};var r=e.extend(n,r);return this.each(function(n){var r=e(this);var i=r.val();var s=r.attr("id");var o="multitag-tagbox"+n;e(this).after('<div class="multitag-tagbox" id="'+o+'" data-for="'+s+'" ></div>');e(this).data("tagbox",o);t(s);e(".multitag-tagbox").on("click",function(){e(this).find("input").focus()});e("#"+s).hide()})}})(jQuery)